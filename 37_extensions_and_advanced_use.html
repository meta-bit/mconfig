<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://meta-bit.github.io/mconfig/37_extensions_and_advanced_use.html" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>3.7 Extensions and Advanced Use - mConfig Documentation</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "3.7 Extensions and Advanced Use";
        var mkdocs_page_input_path = "37_extensions_and_advanced_use.md";
        var mkdocs_page_url = "/mconfig/37_extensions_and_advanced_use.html";
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="index.html" class="icon icon-home"> mConfig Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="index.html">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Part 1 Introduction & Basics</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="11_what_is_mconfig.html">1.1 What is mConfig?</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="12_features_and_use_cases.html">1.2 Features and Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="13_getting_started.html">1.3 Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="14_regular_use.html">1.4 Regular Use</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="15_test_mode.html">1.5 Test Mode</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Part 2 Core Concepts</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="21_how_it_works.html">2.1 How it Works</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="22_priorities_and_hierarchies.html">2.2 Priorities and Hierarchies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="23_configuration_schemes.html">2.3 Configuration Schemes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="24_comment_handling.html">2.4 Comment Handling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="25_config_features.html">2.5 Config Features</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Part 3 Advanced Topics</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="31_writing_configurations.html">3.1 Writing Configurations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="32_updates.html">3.2 Updates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="33_getting_information.html">3.3 Getting Information</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="34_definitions_and_valid_values.html">3.4 Definitions and Valid Values</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="35_handling_secrets.html">3.5 Handling Secrets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="36_windows_registry.html">3.6 Windows Registry Access</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="37_extensions_and_advanced_use.html">3.7 Extensions and Advanced Use</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#371-using-extensions">3.7.1 Using extensions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#372-advanced-use">3.7.2 Advanced use</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#373-data-types">3.7.3 Data types</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#3731-config-scheme-formats">3.7.3.1 Config scheme formats</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#37311-internal-format-0-single-configschemeentry">3.7.3.1.1 Internal format 0: single ConfigSchemeEntry</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#37312-internal-format-1-configschemes-in-an-array-internal-use-only">3.7.3.1.2 Internal format 1:  ConfigSchemes, in an array. internal use only!</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#37313-format-2-full-single-configscheme">3.7.3.1.3 Format 2: full single ConfigScheme</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#37314-format-3-multiple-full-configschemes">3.7.3.1.4 Format 3: multiple full ConfigSchemes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#374-configure-priorities">3.7.4 configure priorities</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#3741-file-type-priority">3.7.4.1 File Type Priority</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3742-storage-type-priority">3.7.4.2 Storage Type Priority</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="38_code_improvements.html">3.8 Code Improvements</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Part 4 Reference & Project</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="41_mconfig_tool.html">4.1 mConfig Tool</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="42_logging.html">4.2 Logging</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="43_faq.html">4.3 FAQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="44_design_consolidated.html">4.4 Design Consolidated</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="45_ai_guidance.html">4.5 AI Guidance</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="46_versions.html">4.6 Versions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="47_contributing.html">4.7 Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="48_legal.html">4.8 Legal</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="examples/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/simple_configuration_loading.html">Simple Configuration Loading</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/advanced_configuration_handling.html">Advanced Configuration Handling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/integration_with_cicd.html">Integration with CI/CD</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/testing_configurations.html">Testing Configurations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/mconfig-modules.html">mConfig Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/java-modules.html">JPMS (Java Modules)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/configuration_views.html">Configuration Views</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/zookeeper.html">ZooKeeper</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/handling_crypto_keys_and_certificates.html">Handling Crypto Keys and Certificates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="examples/schemes.html">Schemes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Appendix</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="49_links.html">4.9 Links</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mConfig Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html" class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Part 3 Advanced Topics</li>
      <li class="breadcrumb-item active">3.7 Extensions and Advanced Use</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="37-extensions-and-advanced-use">3.7 Extensions and Advanced Use<a class="headerlink" href="#37-extensions-and-advanced-use" title="Permanent link">&para;</a></h1>
<h2 id="371-using-extensions">3.7.1 Using extensions<a class="headerlink" href="#371-using-extensions" title="Permanent link">&para;</a></h2>
<h2 id="372-advanced-use">3.7.2 Advanced use<a class="headerlink" href="#372-advanced-use" title="Permanent link">&para;</a></h2>
<p>Why perform</p>
<ul>
<li>parameter validation, </li>
<li>checks for presence of mandatory settings,</li>
<li>generation of parameter documentation
yourself? mConfig has a built-in facility for this and more. </li>
</ul>
<p>You describe all the entries your configuration can have,
and mConfig takes care of the checking. </p>
<h2 id="373-data-types">3.7.3 Data types<a class="headerlink" href="#373-data-types" title="Permanent link">&para;</a></h2>
<h3 id="3731-config-scheme-formats">3.7.3.1 Config scheme formats<a class="headerlink" href="#3731-config-scheme-formats" title="Permanent link">&para;</a></h3>
<h4 id="37311-internal-format-0-single-configschemeentry">3.7.3.1.1 Internal format 0: single ConfigSchemeEntry<a class="headerlink" href="#37311-internal-format-0-single-configschemeentry" title="Permanent link">&para;</a></h4>
<pre><code>{
"key":"mandatory key / configuration entry name",
"TYPE":"mandatory type",
"DEFAULT":"optional default value, as string",
"DESCRIPTION":"optional description, for the documentation",
"DESCRIPTION":{"en":"English description", "de":"Deutsche Beschreibung"},
"PATTERN":"optional validation pattern",
"SCOPES":[ "optional", "scopes", "this", "is", "valid", "in"],
"FLAGS":["flags"],
"SECRET":false,
"HIDDEN":false
}
</code></pre>
<p>Multi-language descriptions are supported by providing a map of language codes to description texts. When requested via <code>getDescription(Locale)</code>, the library will first check this map, then fall back to standard <code>ResourceBundle</code> lookup (using <code>.config/messages.properties</code>), and finally fall back to the single string description if provided.</p>
<p><strong>PLAN</strong>: For FLAGS, in the future we may chose an alternative form - each being a pair with string
key and boolean value.</p>
<h4 id="37312-internal-format-1-configschemes-in-an-array-internal-use-only">3.7.3.1.2 Internal format 1:  ConfigSchemes, in an array. internal use only!<a class="headerlink" href="#37312-internal-format-1-configschemes-in-an-array-internal-use-only" title="Permanent link">&para;</a></h4>
<pre><code>[ 
SCHEME_ENTRIES,
GO_HERE,
DEFINED_AS_IN_FORMAT_1
]
</code></pre>
<h4 id="37313-format-2-full-single-configscheme">3.7.3.1.3 Format 2: full single ConfigScheme<a class="headerlink" href="#37313-format-2-full-single-configscheme" title="Permanent link">&para;</a></h4>
<pre><code>{
 "name":"mandatory name the Configuration is identified by",
 "entries":[ ENTRIES_AS_DEFINED_IN_FORMAT_2 ],
}
</code></pre>
<h4 id="37314-format-3-multiple-full-configschemes">3.7.3.1.4 Format 3: multiple full ConfigSchemes<a class="headerlink" href="#37314-format-3-multiple-full-configschemes" title="Permanent link">&para;</a></h4>
<pre><code>[
  FULL_CONFIG_SCHEME_AS_DEFINED_IN_FORMAT_3
]
</code></pre>
<pre class="mermaid"><code>stateDiagram-v2
    direction LR
    [*] --&gt; UNDECIDED
    UNDECIDED --&gt; ARRAY : on [
    UNDECIDED --&gt; SCHEME: on {
    SCHEME --&gt; SCHEME_ENDED : on }
    SCHEME --&gt; ENTRY_KEY: on string
    ENTRY  --&gt; SCHEME: on next value
</code></pre>
<h3 id="374-configure-priorities">3.7.4 configure priorities<a class="headerlink" href="#374-configure-priorities" title="Permanent link">&para;</a></h3>
<h4 id="3741-file-type-priority">3.7.4.1 File Type Priority<a class="headerlink" href="#3741-file-type-priority" title="Permanent link">&para;</a></h4>
<p>You can control the resolution priority between different file types (e.g., JSON, YAML) using the <code>FILE_TYPE_PRIORITIES</code> feature. This re-orders the search list within each scope.</p>
<h4 id="3742-storage-type-priority">3.7.4.2 Storage Type Priority<a class="headerlink" href="#3742-storage-type-priority" title="Permanent link">&para;</a></h4>
<p>You can control the resolution priority between different storage types (e.g., Files vs. Registry) using the <code>STORAGE_TYPE_PRIORITIES</code> feature. This re-orders the search list within each scope.</p>
<p><div class="highlight"><pre><span></span><code><span class="n">ConfigFactoryBuilder</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ConfigFactoryBuilder</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;company&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;app&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">setFeature</span><span class="p">(</span><span class="n">ConfigFeature</span><span class="p">.</span><span class="na">STORAGE_TYPE_PRIORITIES</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;files&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;registry&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;registryjni&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;JAR&quot;</span><span class="p">));</span>
<span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">ConfigFactory</span><span class="w"> </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="na">build</span><span class="p">())</span><span class="w"> </span>
<span class="w">        </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">        </span><span class="p">}</span>
</code></pre></div>
Default IDs include: <code>RAM</code>, <code>secrets</code>, <code>files</code>, <code>registry</code>, <code>registryjni</code>, <code>JAR</code>.</p>
<p>Additional directories provided via features like <code>ADDITIONAL_USER_DIRECTORIES</code> are typically <strong>prepended</strong> to the search list for their scope. This makes them the preferred location for creating new configuration files, while still allowing default files in standard locations to provide values (unless the same key is defined in the additional directory).</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="36_windows_registry.html" class="btn btn-neutral float-left" title="3.6 Windows Registry Access"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="38_code_improvements.html" class="btn btn-neutral float-right" title="3.8 Code Improvements">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="36_windows_registry.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="38_code_improvements.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
