
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://meta-bit.github.io/mconfig/21_how_it_works.html">
      
      
        <link rel="prev" href="15_test_mode.html">
      
      
        <link rel="next" href="22_priorities_and_hierarchies.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>2.1 How it Works - mConfig Documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.9f615399.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#21-how-it-works" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="mConfig Documentation" class="md-header__button md-logo" aria-label="mConfig Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            mConfig Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2.1 How it Works
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="mConfig Documentation" class="md-nav__button md-logo" aria-label="mConfig Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    mConfig Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Part 1 Introduction & Basics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Part 1 Introduction & Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="11_what_is_mconfig.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.1 What is mConfig?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="12_features_and_use_cases.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.2 Features and Use Cases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="13_getting_started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.3 Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="14_regular_use.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.4 Regular Use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="15_test_mode.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.5 Test Mode
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Part 2 Core Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Part 2 Core Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    2.1 How it Works
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="21_how_it_works.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    2.1 How it Works
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#self-configuration" class="md-nav__link">
    Self-Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concept-scopes" class="md-nav__link">
    Concept: Scopes
  </a>
  
    <nav class="md-nav" aria-label="Concept: Scopes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-meanings-short-version" class="md-nav__link">
    Scope meanings (short version)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-scope-and-source-hierarchy" class="md-nav__link">
    Default scope and source hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filesystem-search-paths-fileconfigstorage" class="md-nav__link">
    Filesystem search paths (FileConfigStorage)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-process" class="md-nav__link">
    The Process
  </a>
  
    <nav class="md-nav" aria-label="The Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layered-stack" class="md-nav__link">
    Layered Stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation" class="md-nav__link">
    validation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changes-monitoring" class="md-nav__link">
    Changes &amp; Monitoring
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#behind-the-scenes" class="md-nav__link">
    Behind the Scenes
  </a>
  
    <nav class="md-nav" aria-label="Behind the Scenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anchor" class="md-nav__link">
    Anchor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-and-secrets" class="md-nav__link">
    Security and Secrets
  </a>
  
    <nav class="md-nav" aria-label="Security and Secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secret-redaction" class="md-nav__link">
    Secret Redaction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-secretvalue-api" class="md-nav__link">
    The SecretValue API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binary-data-blobs" class="md-nav__link">
    Binary Data (BLOBs)
  </a>
  
    <nav class="md-nav" aria-label="Binary Data (BLOBs)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchical-blobs" class="md-nav__link">
    Hierarchical BLOBs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flat-binary-files" class="md-nav__link">
    Flat Binary Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failure-handling" class="md-nav__link">
    Failure Handling
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="22_priorities_and_hierarchies.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2 Priorities and Hierarchies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="23_configuration_schemes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.3 Configuration Schemes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="24_comment_handling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.4 Comment Handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="25_config_features.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.5 Config Features
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Part 3 Advanced Topics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Part 3 Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="31_writing_configurations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 Writing Configurations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="32_updates.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2 Updates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="33_getting_information.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3 Getting Information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="34_definitions_and_valid_values.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.4 Definitions and Valid Values
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="35_handling_secrets.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.5 Handling Secrets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="36_windows_registry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.6 Windows Registry Access
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="37_extensions_and_advanced_use.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.7 Extensions and Advanced Use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="38_code_improvements.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.8 Code Improvements
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Part 4 Reference & Project
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Part 4 Reference & Project
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="41_mconfig_tool.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1 mConfig Tool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="42_logging.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2 Logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="43_faq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3 FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="44_design_consolidated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4 Design Consolidated
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="45_ai_guidance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.5 AI Guidance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="46_versions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.6 Versions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="47_contributing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.7 Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="48_legal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.8 Legal
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/simple_configuration_loading.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simple Configuration Loading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/advanced_configuration_handling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Configuration Handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/integration_with_cicd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration with CI/CD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/testing_configurations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Configurations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/mconfig-modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mConfig Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/java-modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JPMS (Java Modules)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/configuration_views.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration Views
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/zookeeper.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ZooKeeper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/handling_crypto_keys_and_certificates.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Handling Crypto Keys and Certificates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples/schemes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schemes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Appendix
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="49_links.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.9 Links
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#self-configuration" class="md-nav__link">
    Self-Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concept-scopes" class="md-nav__link">
    Concept: Scopes
  </a>
  
    <nav class="md-nav" aria-label="Concept: Scopes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-meanings-short-version" class="md-nav__link">
    Scope meanings (short version)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-scope-and-source-hierarchy" class="md-nav__link">
    Default scope and source hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filesystem-search-paths-fileconfigstorage" class="md-nav__link">
    Filesystem search paths (FileConfigStorage)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-process" class="md-nav__link">
    The Process
  </a>
  
    <nav class="md-nav" aria-label="The Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layered-stack" class="md-nav__link">
    Layered Stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation" class="md-nav__link">
    validation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changes-monitoring" class="md-nav__link">
    Changes &amp; Monitoring
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#behind-the-scenes" class="md-nav__link">
    Behind the Scenes
  </a>
  
    <nav class="md-nav" aria-label="Behind the Scenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anchor" class="md-nav__link">
    Anchor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-and-secrets" class="md-nav__link">
    Security and Secrets
  </a>
  
    <nav class="md-nav" aria-label="Security and Secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secret-redaction" class="md-nav__link">
    Secret Redaction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-secretvalue-api" class="md-nav__link">
    The SecretValue API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binary-data-blobs" class="md-nav__link">
    Binary Data (BLOBs)
  </a>
  
    <nav class="md-nav" aria-label="Binary Data (BLOBs)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchical-blobs" class="md-nav__link">
    Hierarchical BLOBs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flat-binary-files" class="md-nav__link">
    Flat Binary Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failure-handling" class="md-nav__link">
    Failure Handling
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="21-how-it-works">2.1 How it Works<a class="headerlink" href="#21-how-it-works" title="Permanent link">&para;</a></h1>
<p>To get started, we need a lot of preparation and settings.
These are collected in a factory builder, <code>ConfigFactoryBuilder</code>,
which then builds a <code>ConfigFactory</code> with specific settings.</p>
<h3 id="self-configuration">Self-Configuration<a class="headerlink" href="#self-configuration" title="Permanent link">&para;</a></h3>
<p>Before the ConfigFactory is fully operational, it may perform "self-configuration".
If the <code>mConfigSourceJAR</code> module is active, the factory searches the classpath for:
<code>.config/metabit/mConfig/mconfig.properties</code></p>
<p>This feature is enabled by default. It can be disabled by setting the <code>ENABLE_SELF_CONFIGURATION</code> flag to <code>false</code> in the <code>ConfigFactoryBuilder</code>.</p>
<p>Settings found in this file (or files, as it uses <code>ClassLoader.getResources()</code>) 
are used to populate the internal <code>ConfigFactorySettings</code>.
This allows the library to configure its own features 
(like enabling environment variable processing via <code>ALLOW_MCONFIG_RUNTIME_SETTINGS</code>) 
using its standard resource discovery layout.</p>
<p>The ConfigFactory in turn produces individual Configuration objects.</p>
<p>That's the startup phase; once that is done, you use the Configuration objects.</p>
<hr />
<h2 id="concept-scopes">Concept: Scopes<a class="headerlink" href="#concept-scopes" title="Permanent link">&para;</a></h2>
<p>mConfig uses the concept of hierarchical scopes (from the pre-2000 metabit MAUS project).</p>
<p>The software may have its generic defaults, which can be overridden by settings
of the individual local installation. But if you allow user-based settings,
these take precedence over the local installation; and settings given for the
individual software instance run may override those, in turn. It's a hierarchy.</p>
<p><strong>Scope order (lowest to highest priority):</strong>
<code>PRODUCT</code> -&gt; <code>ORGANIZATION</code> -&gt; <code>CLOUD</code> -&gt; <code>CLUSTER</code> -&gt; <code>HOST</code> -&gt; <code>APPLICATION</code> -&gt; <code>USER</code> -&gt; <code>SESSION</code> -&gt; <code>RUNTIME</code> -&gt; <code>POLICY</code></p>
<h3 id="scope-meanings-short-version">Scope meanings (short version)<a class="headerlink" href="#scope-meanings-short-version" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Scope</th>
<th>Intended use</th>
<th>Typical sources</th>
</tr>
</thead>
<tbody>
<tr>
<td>PRODUCT</td>
<td>Defaults shipped with the software.</td>
<td>ConfigScheme defaults, JAR resources</td>
</tr>
<tr>
<td>ORGANIZATION</td>
<td>Company-level defaults and licensing.</td>
<td>Registry, network services</td>
</tr>
<tr>
<td>CLOUD</td>
<td>Cloud-based configurations, shared across multiple clusters.</td>
<td>Cloud services, network services</td>
</tr>
<tr>
<td>CLUSTER</td>
<td>Cluster-wide settings.</td>
<td>ZooKeeper, network services</td>
</tr>
<tr>
<td>HOST</td>
<td>System-wide settings for one host.</td>
<td>Filesystem, Registry, System properties</td>
</tr>
<tr>
<td>APPLICATION</td>
<td>Installation-specific settings (portable installs, side-by-side versions).</td>
<td>Filesystem near the binary</td>
</tr>
<tr>
<td>USER</td>
<td>Per-user overrides and preferences.</td>
<td>Filesystem, Registry</td>
</tr>
<tr>
<td>SESSION</td>
<td>Shell/session overrides.</td>
<td>Environment variables, command-line</td>
</tr>
<tr>
<td>RUNTIME</td>
<td>In-memory changes at runtime.</td>
<td>RAM layer</td>
</tr>
<tr>
<td>POLICY</td>
<td>Enforced overrides (highest priority).</td>
<td>GPO/Registry, policy files</td>
</tr>
</tbody>
</table>
<h3 id="default-scope-and-source-hierarchy">Default scope and source hierarchy<a class="headerlink" href="#default-scope-and-source-hierarchy" title="Permanent link">&para;</a></h3>
<p>Resolution priority between different storage types (within the same scope) is deterministic.</p>
<p><strong>Default Storage Priority (Highest to Lowest):</strong>
1. <code>RAM</code> (In-memory overrides)
2. <code>secrets</code> (Encrypted/sensitive data)
3. <code>files</code> (Local filesystem)
4. <code>registry</code> (Windows Registry)
5. <code>registryjni</code> (Windows Registry JNI)
6. <code>zookeeper</code> (ZooKeeper module)
7. <code>JAR</code> (Classpath resources/defaults)</p>
<p>Use <code>STORAGE_TYPE_PRIORITIES</code> to change this order within a scope.</p>
<h3 id="filesystem-search-paths-fileconfigstorage">Filesystem search paths (FileConfigStorage)<a class="headerlink" href="#filesystem-search-paths-fileconfigstorage" title="Permanent link">&para;</a></h3>
<p>The lists below show the default search paths <em>as added to the search list</em>.
Earlier entries are preferred for <strong>creation</strong>; later entries override earlier ones
within the same scope. <code>SUB_PATH</code> (if set) is appended to the application paths.
<code>ADDITIONAL_*_DIRECTORIES</code> are prepended to their scope lists.</p>
<blockquote>
<p><strong>Optional Company Segment</strong>: <code>&lt;company&gt;</code> omitted if <code>COMPANY_NAME</code> blank/null/whitespace (recommended but can be intentionally left blank for app-only paths). Examples below show both forms where applicable.</p>
</blockquote>
<p><strong>Linux (and most Unix-like systems)</strong></p>
<p>HOST scope:
- <code>$XDG_CONFIG_DIRS</code> (default <code>/etc/xdg</code>), each entry: <code>&lt;dir&gt;/&lt;app&gt;</code>
- <code>/etc/opt/[&lt;company&gt;/]&lt;app&gt;/&lt;subPath&gt;</code>
- <code>/etc/opt/&lt;app&gt;/&lt;subPath&gt;</code>
- <code>/usr/local/etc/&lt;app&gt;/&lt;subPath&gt;</code>
- <code>/etc/&lt;app&gt;/&lt;subPath&gt;</code></p>
<p>USER scope:
- <code>$XDG_CONFIG_HOME/[&lt;company&gt;/]&lt;app&gt;/&lt;subPath&gt;</code> (if set)
- <code>~/.config/[&lt;company&gt;/]&lt;app&gt;/&lt;subPath&gt;</code>
- <code>~/.&lt;app&gt;/&lt;subPath&gt;</code>
- 
SESSION scope:
- <code>$PWD/.config/&lt;app&gt;/&lt;subPath&gt;</code></p>
<p><strong>Windows</strong></p>
<p>SESSION scope:
- <code>%CD%\\.config\\&lt;app&gt;\\&lt;subPath&gt;</code>
- <code>%CD%</code> (legacy side-by-side .ini, .properties, etc.)</p>
<p>USER scope:
- <code>%XDG_CONFIG_HOME%\\&lt;app&gt;\\&lt;subPath&gt;</code> (if set)
- <code>%AppData%\\[&lt;company&gt;\\&lt;]&lt;app&gt;\\&lt;subPath&gt;</code>
- <code>%LocalAppData%\\[&lt;company&gt;\\&lt;]&lt;app&gt;\\&lt;subPath&gt;</code>
- <code>%UserProfile%\\.config\\&lt;app&gt;\\&lt;subPath&gt;</code></p>
<p>APPLICATION scope:
- <code>&lt;appDir&gt;\\.config</code>
- <code>&lt;appDir&gt;</code></p>
<p>HOST scope:
- <code>%ProgramData%\\[&lt;company&gt;\\&lt;]&lt;app&gt;</code>
- <code>%AllUsersProfile%\\[&lt;company&gt;\\&lt;]&lt;app&gt;</code></p>
<p><strong>macOS (experimental)</strong></p>
<p>USER scope:
- <code>$XDG_CONFIG_HOME/[&lt;company&gt;/]&lt;app&gt;/&lt;subPath&gt;</code> (if set)
- <code>~/Library/Application Support/[&lt;company&gt;/]&lt;app&gt;/&lt;subPath&gt;</code>
- <code>~/Library/Preferences/[&lt;company&gt;/]&lt;app&gt;/&lt;subPath&gt;</code>
- <code>~/.&lt;app&gt;/&lt;subPath&gt;</code></p>
<p>HOST scope:
- <code>/Library/Application Support/[&lt;company&gt;/]&lt;app&gt;/&lt;subPath&gt;</code>
- <code>/Library/Preferences/[&lt;company&gt;/]&lt;app&gt;/&lt;subPath&gt;</code></p>
<p>APPLICATION scope:
- <code>&lt;appDir&gt;/.config</code>
- <code>&lt;appDir&gt;</code></p>
<p>SESSION scope:
- <code>$PWD/.config/&lt;app&gt;/&lt;subPath&gt;</code></p>
<p><strong>Android (experimental)</strong></p>
<p>APPLICATION scope:
- <code>/data/data/&lt;app&gt;/files/.config/&lt;subPath&gt;</code>
- <code>/data/data/&lt;app&gt;/files/&lt;subPath&gt;</code></p>
<p>USER scope:
- <code>/data/data/&lt;app&gt;/files/&lt;subPath&gt;</code>
- <code>/storage/emulated/0/Android/data/&lt;app&gt;/files/.config/&lt;subPath&gt;</code> (if <code>EXTERNAL_STORAGE</code> set)
- <code>/storage/emulated/0/Android/data/&lt;app&gt;/files/&lt;subPath&gt;</code></p>
<p>SESSION scope:
- <code>/data/data/&lt;app&gt;/cache/.config/&lt;subPath&gt;</code>
- Plus Linux-style fallbacks.</p>
<p><strong>Fallback (unknown OS)</strong></p>
<p>USER scope:
- <code>~/.&lt;app&gt;/&lt;subPath&gt;</code></p>
<p>HOST scope:
- <code>$PWD/.config/&lt;app&gt;/&lt;subPath&gt;</code></p>
<h2 id="the-process">The Process<a class="headerlink" href="#the-process" title="Permanent link">&para;</a></h2>
<h3 id="layered-stack">Layered Stack<a class="headerlink" href="#layered-stack" title="Permanent link">&para;</a></h3>
<p>When you ask for a ConfigEntry (or just its value) by providing a key, 
the library starts searching.
The normal method is using a layered stack, sorted by the aforementioned scopes.</p>
<p>At top, if enabled, is the cache layer, at RUNTIME scope.
Below it follow the other scopes, down to the PRODUCT scope, 
where you can find the defaults layer.</p>
<p>For each layer, the respective configuration source is asked whether it has
an entry matching the key. The topmost layer which has a valid entry wins,
and you get the ConfigEntry it has found.</p>
<p>If you asked for just the value, not the full ConfigEntry, then the library
tries to return the data found in the Java class matching the type of
value you asked for (e.g. Boolean, Integer, byte array).</p>
<h3 id="validation">validation<a class="headerlink" href="#validation" title="Permanent link">&para;</a></h3>
<p>Note the mention of <strong>valid</strong> data.
You can, and should, provide a ConfigScheme which declares the expected
entries, and some information about them.</p>
<p>Mandatory for this is a key (~ name), and a <em>type</em>.
The types match or are translated to types in the different config sources.
The type is also used for initial conversion of the data.
So if the type is NUMBER, then "xyyyzy" is not a valid value.</p>
<p>The default behaviour is to skip such entries, but log a warning - we want to
provide usable data to continue your program code with, best-effort. </p>
<p>An optional field allows for more specific restrictions to be applied to fields,
listing which contents are acceptable values.</p>
<p>When a ConfigScheme is activated for a Configuration
- it sets the DefaultLayer contents, if defaults are not disabled
- it becomes available for the Configuration, to check entries against. 
- it also is available for documentation generation</p>
<p>The checks are performed
@TODO continue</p>
<h2 id="changes-monitoring">Changes &amp; Monitoring<a class="headerlink" href="#changes-monitoring" title="Permanent link">&para;</a></h2>
<p>There's two different aspects to changes.</p>
<p>First, getting notifications when the <em>value</em> of a config entry changes.
This is actively checking, even polling, for changes, to notify your code about
such events. It checks across different ConfigSources, formats, and the like.</p>
<p>mConfig provides a subscription mechanism via <code>subscribeToUpdates(Consumer&lt;ConfigLocation&gt;)</code>. 
This allows applications (and tools like the <code>mconfig monitor</code> command) to react
to configuration changes in real-time.</p>
<p>Second, the automated cache flush for some config sources. For most, reading is
not much effort; but certain ones - especially files and parsing their formats -
are not that cheap. So these are read, parsed, and then cached for some time.</p>
<p>But the cache should not stay indefinitely, it needs to detect changes and/or
refresh automatically. → <code>ConfigFeature.UPDATE_CHECK_FREQUENCY_MS</code></p>
<h2 id="behind-the-scenes">Behind the Scenes<a class="headerlink" href="#behind-the-scenes" title="Permanent link">&para;</a></h2>
<p>mConfig uses these concepts for separation of concerns:</p>
<ul>
<li>
<p>ConfigSource is something where configurations come from. it returns Configuration instances.</p>
</li>
<li>
<p>ConfigStorage is a concept representing an access medium, e.g. Filesystem, OS registry, network config services. It provides the technical access.</p>
</li>
<li>
<p>ConfigFormat is how the configuration is structured and formatted inside the access medium.
  Files, specifically, come in a number of different formats; this handles the actual parsing.</p>
</li>
<li>
<p>ConfigLocation: Represents the specific path/handle (the "Directory" part).</p>
</li>
</ul>
<p>This is how it is supposed to be (and as of 0.6.x, isn't yet!)</p>
<pre><code class="language-mermaid">erDiagram
    Configuration    }|--|| ConfigFactory : &quot;comes from&quot;
    ConfigFactory    ||--|| ConfigSearchList : has
    Configuration    ||--|| ConfigSearchList : uses
    ConfigSearchList ||--|{ ConfigSource : contains
    ConfigSource     ||--|| ConfigLocation : &quot;has a specific&quot;
    ConfigSource     ||--|| ConfigStorage : &quot;reads from&quot;
    ConfigSource     ||--|| ConfigFormat : &quot;uses a specific&quot;
    ConfigStorage    ||--|{ ConfigFormat : &quot;compatible with&quot;

    Configuration    ||--o| ConfigScheme : &quot;may use&quot;
    ConfigScheme     ||--o{ ConfigSchemeEntry : contains 
</code></pre>
<p><strong>Configuration</strong> : the API interface to access configurations; produces/keeps ConfigEntry instances,
and provides simple access to the values.
They use their respective ConfigFactory search list, which consists of hierarchical and scoped
ConfigSource entries, to get ConfigEntry instances.</p>
<p><em>An Configuration object is a way to access configurations in an uniform way.</em></p>
<p><strong>ConfigSource</strong> : this is ((supposed to be)) the combined ConfigStorage+ConfigFormat tuple,
instantiated, for active use. It can produce Configuration instances, which link back to it.</p>
<p><em>A ConfigSource is where you can get a configurations from.</em></p>
<p><strong>ConfigStorage</strong> : Filesystem, Windows registry, Environment, networked system etc.
- this provides the (potentially OS-specific) access mechanisms to wherever configurations come from.</p>
<p><em>A ConfigStorage is where configurations are stored.</em></p>
<p><strong>ConfigFormat</strong>  : Java-Properties, JSON, YAML, Windows registry, ...
- this maps general keys to storage-specific addressing, and
- performs format-specific conversions.</p>
<p><em>A ConfigFormat is a format configurations are stored in.</em></p>
<blockquote>
 As of 0.6, there is a confusion between ConfigSource and ConfigStorage;
 also, the layer separation isn't clean yet.

 The ConfigSource would be the instance combination of several tuples;
 for example, using the FileConfigStorage, there would be a number of separate
 ConfigSource entries in the search list, each for a different directory.
 For the WindowsRegistryStorage, there's less of them (HKLM and so on);
 for the EnvironmentVariableStorage, there is probably just one.

 Whether ConfigSource will have different service-type instances is still open;
 the matching of Format and Storage is the tricky bit here.

 (( Should we present the available formats to the storages, ask them for compatibility?
   Should we do it the other way around? The interface between the two may be very
   specific. How to match them, and link them in a general way? ))

Situation as of 0.6

<pre><code class="language-mermaid">flowchart LR
    ConfigSearchList --&gt;|contains several| ConfigLocationImpl
    ConfigLocationImpl --&gt;|adds properties to| ConfigSourceInterface
    ConfigLocationImpl --&gt; location
    ConfigLocationImpl --&gt; flags
    ConfigSourceInterface --&gt; FileConfigSource
    ConfigSourceInterface --&gt; SchemeDefaultConfigSource
</code></pre>

</blockquote>

<p>Planned for 0.7</p>
<pre><code class="language-mermaid">flowchart LR    
    ConfigSearchList --&gt; ConfigSource
    ConfigSource  --&gt; ConfigStorage
    ConfigStorage -..-&gt; ConfigFormat
    ConfigStorage &lt;--&gt; ConfigLocation
    Configuration --&gt; ConfigLocation
</code></pre>
<h4 id="anchor">Anchor<a class="headerlink" href="#anchor" title="Permanent link">&para;</a></h4>
<p>The ConfigFactoryBuilder gathers and combines all the settings.
It creates a <strong>ConfigFactoryInstanceContext</strong> and a ConfigFactory to use it.</p>
<p>The ConfigFactoryInstanceContext is passed to several objects the ConfigFactory
uses, so they can get their respective features, settings, access to a logger,
and so on - it is an internally shared resource.</p>
<h2 id="security-and-secrets">Security and Secrets<a class="headerlink" href="#security-and-secrets" title="Permanent link">&para;</a></h2>
<p>mConfig has built-in support for sensitive data such as passwords, API keys, and private certificates.</p>
<h3 id="secret-redaction">Secret Redaction<a class="headerlink" href="#secret-redaction" title="Permanent link">&para;</a></h3>
<p>Config entries marked as secrets in the <code>ConfigScheme</code> are automatically handled with care:
- Their <code>toString()</code> representation is redacted (<code>[REDACTED]</code>). (using stars could be ambiguous)
- They are stored in specialized <code>SecretConfigEntryLeaf</code> objects.
- In-memory storage uses <code>byte[]</code> or <code>char[]</code> to allow for clearing the data after use.</p>
<h3 id="the-secretvalue-api">The SecretValue API<a class="headerlink" href="#the-secretvalue-api" title="Permanent link">&para;</a></h3>
<p>For programmatically accessing secrets, mConfig provides the <code>SecretValue</code> interface. 
This allows retrieving the sensitive data without it being accidentally converted to a standard <code>String</code> that might linger in the Java String Pool.</p>
<pre><code class="language-java">SecretValue password = config.getSecret(&quot;database/password&quot;);
byte[] rawBytes = password.getValue();
// ... use and then potentially clear the bytes
</code></pre>
<h2 id="binary-data-blobs">Binary Data (BLOBs)<a class="headerlink" href="#binary-data-blobs" title="Permanent link">&para;</a></h2>
<p>Not all configuration is text-based. mConfig supports Binary Large Objects (BLOBs) for things like license files, binary keys, or certificates.</p>
<h3 id="hierarchical-blobs">Hierarchical BLOBs<a class="headerlink" href="#hierarchical-blobs" title="Permanent link">&para;</a></h3>
<p>In modern formats like JSON and YAML, binary data can be embedded directly.
- <strong>YAML</strong> uses the standard <code>!!binary</code> tag.
- <strong>JSON</strong> uses Base64 encoded strings. If a <code>ConfigScheme</code> is provided that marks a key as <code>BYTES</code> type, mConfig will automatically decode the Base64 string into a byte array.</p>
<h3 id="flat-binary-files">Flat Binary Files<a class="headerlink" href="#flat-binary-files" title="Permanent link">&para;</a></h3>
<p>For legacy support or specific use cases, an entire file can be treated as a single binary blob. This uses the <code>binary_file</code> format and is accessed via the empty string key (<code>""</code>).</p>
<pre><code class="language-java">// Retrieving an entire .bin file as a single blob
Configuration licenseCfg = factory.getConfig(&quot;license&quot;);
byte[] licenseData = licenseCfg.getBytes(&quot;&quot;);
</code></pre>
<h3 id="failure-handling">Failure Handling<a class="headerlink" href="#failure-handling" title="Permanent link">&para;</a></h3>
<p>If there is no ConfigEntry found at any layer, and no specific default is found,
the reaction is determined by the ConfigFeature flags set.</p>
<p>(a) return a generic default value depending on the type
(b) throw ConfigException (runtime exception type)
(c) return "null" as ConfigEntry handle, your own code wants to handle the details.
— this will still cause an exception if you are asking for the value only. </p>
<p>It is recommended, though, that you provide for each config entry you are reading
a default value which is sensible and useful in the context of your use case. </p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="15_test_mode.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: 1.5 Test Mode" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                1.5 Test Mode
              </div>
            </div>
          </a>
        
        
          
          <a href="22_priorities_and_hierarchies.html" class="md-footer__link md-footer__link--next" aria-label="Next: 2.2 Priorities and Hierarchies" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                2.2 Priorities and Hierarchies
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.footer"], "search": "assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
    
  </body>
</html>